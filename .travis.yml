language: java
jdk: oraclejdk8
sudo: false
addons:
  apt:
    packages:
    - oracle-java8-installer
  sonarcloud:
    organization: marmer-github
    token:
      secure: Evcu9i2FMFx3RfCvDSFa7WTJBGhWeht4iNO2ksdLJoos5/ahSTDdU4dmM8ShooZT57AFKPJCZsmPqY8Wnq/gKQgCdBtPeHIi3rPJj4H15vTHzOMkfkYitvm3wXKx9/p8yFEVjndG2YMUY3ZTIuZ9o1zEusLqyoS99RIqjtAOLeqGtzv0JSWkHbuR0pvoQbQJIjuE6Iw4+7soGZah3GC3dApskycOJOwxDE6Y9regjbWAErsLoJSKNVR9naeHBZuwWD+l9G4tei6CwXF70vBLm9s929cTPdBBea4rOde3Msuy2CBKNSEz2M4981i/6R8fdwmxtQEMyw6QnyJxTUiwhRVLnRvRatwJcsDAv6d0xZEVRlfPOwyvSRdeKie1TT1LbeWKQ1RW4BEExETUuaOKfz7JiFt+6+jqm9jEGR3N91C2DiEPYJtfq+JmjrpGWKVxBEt0EzLockE0vng6RJde2a5libldRs1FATmI+yNenIwap/Se4xYYXHmFcvoUDQ9aRWP4kaWjIF3VrNdzay8CimJxCJ0AG+gTqjh8c96RaQF5fNdKzTLLePByt+pQ6JO+VH+aw3kZyf3lLPNNp8293r5NaA60HGiBxvGKzQgROjp+hruDjghYYl8mnXI7jmi4fs1wPxvtb4UfDa8N4LsqcuW4ekbPBfmmXidV0i7JDIM=
cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/apache-maven-${MAVEN_VERSION}"
  - "$HOME/.sonar/cache"
before_cache:
- rm -rfv $HOME/.m2/repository/io/github/marmer
before_install:
- export M2_HOME=$HOME/apache-maven-${MAVEN_VERSION}
- if [ ! -d $M2_HOME/bin ]; then curl https://archive.apache.org/dist/maven/maven-3/${MAVEN_VERSION}/binaries/apache-maven-${MAVEN_VERSION}-bin.tar.gz
  | tar zxf - -C $HOME; fi
- export PATH=$M2_HOME/bin:$PATH
install:
- mvn clean install -DskipTests=true -Dmaven.javadoc.skip -Dmaven.source.skip -Dassembly.skipAssembly -B -V -U
script:
- mvn org.jacoco:jacoco-maven-plugin:0.8.2:prepare-agent package sonar:sonar -Dmaven.javadoc.skip -Dmaven.source.skip -Dassembly.skipAssembly -V
env:
  global:
    secure: q/iMSdIje8SBFOtpltOWpVtZ7doX1Wdb+Hir+5R9qeGDuiecQmDrPRYKcqX84LA/LUbTYh1qzAjsRoY1HgMcrufSsFHdM9SU4fcjAWjEkIkADeNJ1csBVEtSbFoK6lSIX21/9I3sgHM9mPZvJyiPXp6PJ+X64xk7E+ftX1L4+zXLnwYYhndxL/ZF6fvrJLbTgYtmx+35JfwVVH0Bkgr30BjDJAQ9RSOfUMxyC9CGhCMnpDgTFT6cMx8MvKrBL17iMq1+HxAkWghQU0DLyVRMdBb4HRX0lnW+RLSk1/nnXJ36wBeXYfP7hv2MYUyAF2xRmM1psq92ytnnYX9+2uSJq+PW/kdPadw1wKhKjvA1JfrYmP1KlaMFVzSYn6MeatO2x0chUUCJn3ZY7J4WMfr9hx8mN117TQGpJJGvqfLDNKwG2jLT8DoQInzaumcM19Pn0BAE7a63ezn/z2wo7ALZaak2aSuhRwHoRdiCsxvjFSXMKdiSzEZvLw9pibvPkUHIvl5LqTFi1h7K2IRpTj0R2diZ7+6UCuE6Gq2NesGxjCdXWd5NwMM8tkMkXBs1gTZZxI/ybvj/kP4Ijg2xVf2n7r+v9Sgom/hyPBmEmaWAZMMTY1wnG3sWxUMa8sua5nkHPI/NerFCB9S5BY0OGSLp0aYj0ftH67YE+QJGkh7U3FU=
